<!DOCTYPE html>
<html>
<head>
    <title>Dynamic Table</title>
    <script  src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <style>

table {
    border-collapse: collapse;
    width: 100%;
}
th, td {
    text-align: center;
    padding: 15px;
    font-size: 20px;
}
th {
    background-color: #5499C7;
    color: white;
    font-style: bold;
    font-size: 35px;
}
</style>
    <script type="text/javascript" src="data.json"></script>
<script>

//JSON Object End................
//Create table and fetch data from JSON Object.
        $(document).ready(function(){
		var mydata = json_obj;
		console.log("the data"+mydata);
              var number_of_rows = mydata.length;
              var table_body = '<table border="1" id="example"><thead><tr><th rowspan="2">machine_name</th><th rowspan="2">machine_id</th><th rowspan="2">current</th><th rowspan="2">voltage</th><th rowspan="2">power_factor</th><th rowspan="2">active_power</th><th rowspan="2">apparent_power</th><th rowspan="2">reactive_power</th><th colspan="3">energy<tr><td>Today</td><td>MTD</td><td>YTD</td></tr></th></tr></thead><tbody>';
              for(i =0;i<number_of_rows;i++){
                    table_body+='<tr>';
                    table_body +='<td>';
                    table_body +=mydata[i].machine_name;
                    table_body +='</td>';

                    table_body +='<td>';
                    table_body +=mydata[i].machine_id;
                    table_body +='</td>';

                    table_body += '<td>';
                    table_body += mydata[i].current;
                    table_body += '</td>';

                      table_body += '<td>';
                    table_body += mydata[i].voltage;
                    table_body += '</td>';

                    table_body += '<td>';
                    table_body += mydata[i].power_factor;
                    table_body += '</td>';

                    table_body += '<td>';
                    table_body += mydata[i].active_power;
                    table_body += '</td>';

                    table_body += '<td>';
                    table_body += mydata[i].apparent_power;
                    table_body += '</td>';

                    table_body += '<td>';
                    table_body += mydata[i].reactive_power;
                    table_body += '</td>';

                    table_body += '<td>';
                      table_body += mydata[i].energy[0].daily_energy;
                      table_body += '</td>';

                       table_body += '<td>';
                      table_body += mydata[i].energy[0].monthly_energy;
                      table_body += '</td>';

                       table_body += '<td>';
                      table_body += mydata[i].energy[0].yearly_energy;
                      table_body += '</td>';

                    }
                table_body+='</tbody></table>';
               $('#tableDiv').html(table_body);
              //display data..........
            });
</script>
</head>
<body>
<div id = "example" style="margin-top: 50px; margin-left: 250px; margin-right: 250px;">
    <div id="tableDiv" style="margin-top: 40px">
        //Table will generate here.
    </div>
</div>
<p id="p1"></p>
</body>
</html>
